---
title: "Customer Data Analysis"
output: rmarkdown::github_document
---
```{r Loading Data}
# load customer data
customers <- read.csv("data/customer_info.csv")
```

```{r Dimension Check, echo=TRUE, message=TRUE, warning=FALSE}
#Identify number of records
dim(customers)
```
```{r Data Summary, echo=TRUE, message=FALSE, warning=FALSE}
#view customer data
summary(customers)
```

```{r}
#Cleaning of Customer Data

#convert gender column type to factor
customers$gender <- factor(customers$gender)
#remove unwanted column
customers_clean <- customers[,c(2:4)]
```

```{r}
#view summary of cleaned data
summary(customers_clean)
```

```{r}
#view a subset of cleaned data
head(customers_clean)
```

```{r}
str(customers_clean)
```

```{r Loading Data, message=FALSE, warning=FALSE}
# load product data
products <- read.csv("data/product_info.csv")
```

```{r Data Summary, message=FALSE, warning=FALSE}
#view products data
summary(products)
```

```{r}
# Load the readr package
library(readr)
```


```{r Loading Data, message=FALSE, warning=FALSE}
# load cases data
cases <- read.csv("data/customer_cases.csv")
```

```{r Dimension Check, echo=TRUE}
#Identify number of records
dim(cases)
```

```{r Data Summary, echo=TRUE, message=FALSE, warning=FALSE}
#view cases data summary
summary(cases)
```

```{r}
#seeing that date time comes in as character
# bring in lubridate to handle datetime
library(lubridate, warn.conflicts = FALSE)
```


```{r}
#Cleaning of Cases Data

#remove unwanted column
cases_clean <- cases[,c(2:6)]

#convert reason & Channel column type to factor
cases_clean$reason <- factor(cases_clean$reason)
cases_clean$channel <- factor(cases_clean$channel)

#convert the date time column to datetime type
cases_clean$date_time <- ymd_hms(cases_clean$date_time)
```

```{r}
#check the data types of cases data again
summary(cases_clean)
```

```{r}
str(cases_clean)
```

```{r Loading Data, message=FALSE, warning=FALSE}
# load customer product data
customer_products <- read.csv("data/customer_product.csv")
```

```{r Dimension Check, echo=TRUE, message=TRUE, warning=FALSE}
#Identify number of records
dim(customer_products)
```

```{r Data Summary, echo=TRUE, message=FALSE, warning=FALSE}
#view cases data summary
summary(customer_products)
```

```{r}
#Cleaning of Customer Product Data

#remove unwanted column
customer_product_clean <- customer_products[,c(2:5)]

#convert the date time column to datetime type
customer_product_clean$signup_date_time <- ymd_hms(customer_product_clean$signup_date_time)
customer_product_clean$cancel_date_time <- ymd_hms(customer_product_clean$cancel_date_time)
```

```{r Data Summary, echo=TRUE, message=FALSE, warning=FALSE}
#view cases data summary
summary(customer_product_clean)
```

```{r}
str(customer_product_clean)
```

```{r}
#Descriptive Information
#Average age of customers based on gender
with(customers_clean, by(age, gender, mean))
```

```{r}
#loading ggplot library
library(ggplot2)
```

```{r Plot, echo=TRUE, message=FALSE, warning=FALSE}
ggplot(customers_clean,aes(y=age, x=gender )) + geom_boxplot() + coord_flip()
```

